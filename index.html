<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Tajinier ‚Ä¢ Avis & Roulette</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --gold:#c8a45b;
  --dark:#0f172a;
  --glass:rgba(255,255,255,0.12);
}

*{box-sizing:border-box}

body{
  margin:0;
  background:radial-gradient(circle at top,#1e293b,#020617);
  font-family:'Inter',sans-serif;
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

.container{
  width:420px;
  background:linear-gradient(145deg,rgba(255,255,255,0.08),rgba(255,255,255,0.02));
  backdrop-filter:blur(25px);
  border-radius:32px;
  padding:30px 24px 36px;
  text-align:center;
  box-shadow:
    0 30px 60px rgba(0,0,0,.6),
    inset 0 1px 0 rgba(255,255,255,.15);
  border:1px solid rgba(255,255,255,0.12);
}

h1{
  margin:0;
  font-size:28px;
  font-weight:700;
  background:linear-gradient(135deg,#fff,#cbd5f5);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

.subtitle{
  color:#94a3b8;
  margin:8px 0 24px;
  font-size:15px;
}

input{
  width:100%;
  padding:14px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.06);
  color:white;
  font-size:15px;
  margin-bottom:16px;
  outline:none;
}

input::placeholder{color:#94a3b8}

button{
  width:100%;
  padding:16px;
  border:none;
  border-radius:18px;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
  transition:.25s;
  background:linear-gradient(135deg,#c8a45b,#a17c3a);
  color:black;
  box-shadow:0 10px 30px rgba(200,164,91,.35);
}

button:hover{
  transform:translateY(-2px);
  box-shadow:0 15px 40px rgba(200,164,91,.55);
}

.alert{
  margin:18px 0;
  padding:14px;
  border-radius:16px;
  background:rgba(200,164,91,.12);
  border:1px solid rgba(200,164,91,.35);
  font-size:14px;
  color:#fcd34d;
}

.wheel-wrapper{
  position:relative;
  width:320px;
  height:320px;
  margin:12px auto 26px;
  border-radius:50%;
  background:radial-gradient(circle,#1e293b,#020617);
  box-shadow:
    inset 0 0 40px rgba(0,0,0,.9),
    0 0 30px rgba(200,164,91,.25);
}

canvas{
  width:320px;
  height:320px;
}

.pointer{
  position:absolute;
  top:-12px;
  left:50%;
  transform:translateX(-50%);
  border-left:16px solid transparent;
  border-right:16px solid transparent;
  border-bottom:28px solid var(--gold);
  filter:drop-shadow(0 4px 10px rgba(0,0,0,.7));
}

.hidden{display:none}

.footer{
  margin-top:10px;
  font-size:13px;
  color:#64748b;
}
</style>
</head>

<body>

<div class="container">

  <!-- PAGE AVIS -->
  <div id="avisPage">
    <h1>Tajinier ‚ú®</h1>
    <div class="subtitle">Merci pour votre visite</div>

    <input type="email" placeholder="Votre email">

    <button id="reviewBtn">‚≠ê Laisser un avis Google</button>

    <div class="alert">
      Apr√®s publication de votre avis,<br>
      revenez tourner la roulette üéÅ
    </div>

    <button id="goRoulette">üé∞ Acc√©der √† la roulette</button>
  </div>

  <!-- PAGE ROULETTE -->
  <div id="roulettePage" class="hidden">
    <h1>Roulette Gourmande</h1>
    <div class="subtitle">Bonne chance üçÄ</div>

    <div class="alert">
      ‚ö†Ô∏è Une preuve de l‚Äôavis Google sera demand√©e
    </div>

    <div class="wheel-wrapper">
      <div class="pointer"></div>
      <canvas id="wheel"></canvas>
    </div>

    <button id="spinBtn">üé∞ Tourner la roulette</button>

    <div class="footer">Jeu valable une seule fois</div>
  </div>

</div>

<script>
const reviewBtn = document.getElementById("reviewBtn");
const goRoulette = document.getElementById("goRoulette");
const avisPage = document.getElementById("avisPage");
const roulettePage = document.getElementById("roulettePage");

reviewBtn.addEventListener("click",()=>{
  window.open("https://search.google.com/local/writereview?placeid=ChIJ5yphIvDZVA0Rykpm0HohmHA","_blank");
});

goRoulette.addEventListener("click",()=>{
  avisPage.classList.add("hidden");
  roulettePage.classList.remove("hidden");
});

const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");

const prizes = [
  "üéü Prochaine visite",
  "üç∞ Dessert maison",
  "‚òï Caf√© ou th√©",
  "üçü Portion offerte",
  "üòÖ Rien cette fois"
];

const colors = [
  "#c8a45b",
  "#8b5e34",
  "#d4af37",
  "#a17c3a",
  "#475569"
];

const size = 160;
canvas.width = 320;
canvas.height = 320;
ctx.translate(160,160);

let angle = 0;
let spinning = false;

function drawWheel(){
  const slice = (2*Math.PI)/prizes.length;
  ctx.clearRect(-160,-160,320,320);

  prizes.forEach((text,i)=>{
    ctx.beginPath();
    ctx.fillStyle = colors[i];
    ctx.moveTo(0,0);
    ctx.arc(0,0,size,angle+i*slice,angle+(i+1)*slice);
    ctx.fill();

    ctx.save();
    ctx.rotate(angle+(i+.5)*slice);
    ctx.fillStyle="white";
    ctx.font="600 15px Inter";
    ctx.textAlign="right";
    ctx.fillText(text,size-14,5);
    ctx.restore();
  });
}

drawWheel();

document.getElementById("spinBtn").addEventListener("click",()=>{
  if(spinning) return;
  spinning=true;

  const start=angle;
  const target=start+Math.PI*10+Math.random()*Math.PI*2;
  const duration=4000;
  const startTime=performance.now();

  function animate(t){
    const p=Math.min((t-startTime)/duration,1);
    const ease=1-Math.pow(1-p,4);

    angle=start+(target-start)*ease;
    drawWheel();

    if(p<1) requestAnimationFrame(animate);
    else spinning=false;
  }

  requestAnimationFrame(animate);
});
</script>

</body>
</html>
